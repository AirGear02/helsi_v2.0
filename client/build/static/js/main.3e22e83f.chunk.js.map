{"version":3,"sources":["actions/type.js","actions/loginForm.js","components/header/loginForm.js","actions/auth.js","components/header/userMenu.js","static/images/logo.png","components/header/header.js","components/footer/footer.js","components/user-cabinet/timeSlotCard.js","components/user-cabinet/userCabinet.js","components/doctor-cabinet/timeSlotCard.js","components/doctor-cabinet/doctorCabinet.js","components/searching-form/searchingField.js","components/searching-form/citiesDropdown.js","components/searching-form/doctorCard.js","components/searching-form/searchingForm.js","components/schedule/doctor-card.js","components/schedule/date-picker.js","components/schedule/schedule.js","components/about-page/about-page.js","App.js","utils/auth.js","reducers/auth.js","reducers/loginForm.js","reducers/index.js","store/configureStore.js","index.js"],"names":["LOGIN_SUCCESS","LOGOUT","OPEN_FORM","CLOSE_FORM","openForm","token","type","payload","isShowed","closeForm","axios","defaults","baseURL","useStyles","makeStyles","theme","modal","display","alignItems","justifyContent","paper","backgroundColor","boxShadow","shadows","padding","spacing","width","outline","borderRadius","input","margin","button","color","borderColor","LoginForm","classes","useState","password","setPassword","login","setLogin","error","setError","useSelector","store","loginForm","dispatch","useDispatch","Modal","open","aria-labelledby","aria-describedby","closeAfterTransition","onClose","className","Fade","in","TextField","label","onBlur","event","target","value","fullWidth","Button","variant","onClick","post","pass","then","res","localStorage","setItem","data","refreshToken","user","jwt_decode","isLoggedIn","successLogin","catch","response","message","Snackbar","length","Alert","severity","photo","marginRight","StyledMenuItem","withStyles","root","palette","common","white","MenuItem","StyledMenu","border","props","Menu","elevation","getContentAnchorEl","anchorOrigin","vertical","horizontal","transformOrigin","UserMenu","anchorEl","setAnchorEl","photoUrl","setPhotoUrl","handleClose","useEffect","get","headers","Authorization","getItem","IconButton","aria-label","aria-controls","aria-haspopup","currentTarget","Avatar","src","Typography","style","whiteSpace","first_name","last_name","id","keepMounted","Boolean","role","component","Link","to","ListItemIcon","fontSize","ListItemText","primary","renderUserCabinet","renderDoctorCabinet","removeItem","header","height","flexDirection","title","textDecoration","lineHeight","loginButton","fontWeight","list","listItem","first","nav","logo","Header","handleLogin","AppBar","position","alt","List","ListItem","container","background","Footer","Date","getFullYear","inlineInfo","marginTop","TimeSlotCard","start_time","date_visiting","doctor_name","doctor_photo","hospital","key","info","TabPanel","children","index","other","hidden","Box","a11yProps","maxWidth","listStyle","appBar","marginLeft","indicator","UserCabinet","history","useHistory","past","future","setData","useTheme","setValue","push","Tabs","onChange","newValue","indicatorColor","Tab","axis","direction","onChangeIndex","dir","map","slot","Divider","heading","typography","pxToRem","flexBasis","flexShrink","secondaryHeading","text","secondary","content","infoInline","marginBottom","middle_name","phone_number","email","date_born","expanded","setExpanded","Accordion","AccordionSummary","expandIcon","substring","AccordionDetails","infoContainer","toISOString","substr","whiteColor","select","icon","fill","main","minHeight","picker","datePicker","contentContainer","divider","DoctorCabinet","workPlaces","setWorkPlaces","currentWorkPlace","setCurrentWorkPlace","slice","date","setDate","timeSlots","setTimeSlots","a","doctorId","result","fetchHospitals","sort","b","fetchTimeSlots","e","FormControl","InputLabel","Select","labelId","workPlace","name","FormHelperText","timeSlot","person","search","shape","transition","searchIcon","pointerEvents","inputRoot","inputInput","paddingLeft","transitions","create","breakpoints","up","SearchingField","handleChange","InputBase","placeholder","inputProps","CitiesDropdown","cities","setCities","city","card","DoctorCard","surname","middleName","hospitals","job","reducedHospitals","handleClick","useCallback","form","searchContainer","raadioGroup","typeForm","dividerColor","radio","checked","doctorsContainer","nextPageButton","bottom","SearchingForm","searchType","setSearchType","searchQuery","setSearchQuery","doctors","setDoctors","setCity","console","log","RadioGroup","FormControlLabel","control","Radio","doctor","textAlign","containerInfo","paddingTop","inlineBlock","join","moment","locale","materialTheme","createMuiTheme","overrides","MuiPickersToolbar","toolbar","MuiPickersDay","daySelected","DatePicker","handleSubmit","selectedDate","handleDateChange","libInstance","utils","MomentUtils","ThemeProvider","views","disablePast","okLabel","cancelLabel","InputProps","onAccept","slotsContainer","radioContainer","titleFont","hoursContainer","Schedule","useParams","setDoctor","titles","setTitles","hours","setHours","setHospital","isMessageOpen","setIsMessageOpen","errorMessage","setErrorMessage","setAllData","union_hours","freeHours","bookedHours","allHours","Set","hour","split","generateTitles","renderHours","match","RegExp","hourRegex","includes","htmlFor","handleCloseError","reason","format","renderSlots","end_time","add","slot_duration","scheduleId","newData","concat","filter","autoHideDuration","AboutPage","boxSizing","App","path","exact","checkIsTokenExpired","exp","now","ex","initialState","authorize","isLogged","rootReducer","combineReducers","state","action","createStore","window","__REDUX_DEVTOOLS_EXTENSION__","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.3e22e83f.chunk.js","sourcesContent":["export const LOGIN_SUCCESS = 'LOGIN_SUCCESS';\r\nexport const LOGOUT = 'LOGOUT';\r\nexport const OPEN_FORM = 'OPEN_LOGIN_FORM';\r\nexport const CLOSE_FORM = 'CLOSE_LOGIN_FORM'","import { OPEN_FORM, CLOSE_FORM } from '../actions/type';\r\n\r\nexport function openForm(token) {\r\n    return {\r\n        type: OPEN_FORM,\r\n        payload: { isShowed: true }\r\n    };\r\n}\r\n\r\nexport function closeForm() {\r\n    return {\r\n        type: CLOSE_FORM,\r\n        payload: { isShowed: false }\r\n    }\r\n}\r\n","import { React, useState } from 'react';\r\nimport { Modal, Fade, makeStyles, TextField, Button } from '@material-ui/core';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport Alert from '@material-ui/lab/Alert'\r\nimport axios from 'axios';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { successLogin } from '../../actions/auth';\r\nimport { closeForm } from '../../actions/loginForm';\r\n\r\n\r\naxios.defaults.baseURL = \"https://helsi-289508.nw.r.appspot.com/api/v1\";\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    modal: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n    },\r\n    paper: {\r\n        backgroundColor: '#E9F1F3',\r\n        boxShadow: theme.shadows[5],\r\n        padding: theme.spacing(0, 5, 0),\r\n        width: '20%',\r\n        outline: 'none',\r\n        borderRadius: '30px'\r\n    },\r\n    input: {\r\n        display: 'block',\r\n        width: '100%',\r\n        margin: '40px 0'\r\n    },\r\n    button: {\r\n        display: 'block',\r\n        margin: '20px auto',\r\n        color: '#009899',\r\n        borderColor: '#009899'\r\n    }\r\n}));\r\n\r\nexport default function LoginForm() {\r\n    const classes = useStyles();\r\n    const [password, setPassword] = useState('');\r\n    const [login, setLogin] = useState('');\r\n    const [error, setError] = useState('');\r\n    const isShowed = useSelector(store => store.loginForm);\r\n    const dispatch = useDispatch();\r\n\r\n    const handlePasswordChange = (event) => setPassword(event.target.value);\r\n    const handleLoginChange = (event) => setLogin(event.target.value);\r\n\r\n\r\n    const handleClose = () => {\r\n        dispatch(closeForm());\r\n    }\r\n    const handleLoginButton = () => {\r\n        axios.post('/auth/login', { login: login, pass: password })\r\n            .then(res => {\r\n                localStorage.setItem('token', res.data.token);\r\n                localStorage.setItem('refresh_token', res.data.refreshToken);\r\n                dispatch(closeForm());\r\n                dispatch(successLogin(res.data.token));\r\n            })\r\n            .catch(error => {\r\n                if(error.response)\r\n                setError(error.response.data.message);\r\n            });\r\n    }\r\n\r\n    const handleErrorClose = () => setError('');\r\n\r\n\r\n    return (\r\n        <Modal open={isShowed.isShowed}\r\n            aria-labelledby=\"transition-modal-title\"\r\n            aria-describedby=\"transition-modal-description\"\r\n            closeAfterTransition\r\n            onClose={handleClose}\r\n            className={classes.modal}>\r\n            <Fade in={isShowed.isShowed} className={classes.paper}>\r\n                <div>\r\n                    <TextField label=\"Номер телефону або email\" onBlur={handleLoginChange}\r\n                        className={classes.input} fullWidth={true} />\r\n                    <TextField label=\"Пароль\" onBlur={handlePasswordChange} type=\"password\" className={classes.input}\r\n                        fullWidth={true} />\r\n                    <Button variant=\"outlined\" className={classes.button}\r\n                        onClick={handleLoginButton}>Увійти</Button>\r\n                    <Snackbar open={error.length !== 0} onClose={handleErrorClose}>\r\n                        <Alert severity=\"error\">{error}</Alert>\r\n                    </Snackbar>\r\n                </div>\r\n            </Fade>\r\n\r\n        </Modal>\r\n    );\r\n}\r\n","import jwt_decode from 'jwt-decode';\r\nimport { LOGIN_SUCCESS, LOGOUT } from '../actions/type';\r\n\r\nexport function successLogin(token) {\r\n    const user = jwt_decode(token);\r\n    return {\r\n        type: LOGIN_SUCCESS,\r\n        payload:  {user: user, isLoggedIn: true}\r\n    };\r\n}\r\n\r\nexport function logout() {\r\n    return {\r\n        type: LOGOUT,\r\n    }\r\n}\r\n","import { React, useState, useEffect } from 'react';\r\nimport { makeStyles, Typography, IconButton, MenuItem, Menu, Avatar, withStyles, ListItemIcon, ListItemText, useRadioGroup } from '@material-ui/core';\r\nimport axios from 'axios';\r\nimport AccountCircle from '@material-ui/icons/AccountCircle';\r\nimport AssignmentOutlinedIcon from '@material-ui/icons/AssignmentOutlined';\r\nimport ExitToAppOutlinedIcon from '@material-ui/icons/ExitToAppOutlined';\r\nimport { Link } from 'react-router-dom';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\n\r\nimport BallotOutlinedIcon from '@material-ui/icons/BallotOutlined';\r\n\r\nimport { logout } from '../../actions/auth';\r\n\r\n\r\naxios.defaults.baseURL = \"https://helsi-289508.nw.r.appspot.com/api/v1\";\r\n\r\nconst useStyles = makeStyles({\r\n\r\n  photo: {\r\n    marginRight: '10px'\r\n  }\r\n\r\n});\r\n\r\nconst StyledMenuItem = withStyles((theme) => ({\r\n  root: {\r\n    '&:focus': {\r\n      backgroundColor: '#009899',\r\n      '& .MuiListItemIcon-root, & .MuiListItemText-primary': {\r\n        color: theme.palette.common.white,\r\n      },\r\n    },\r\n  },\r\n}))(MenuItem);\r\n\r\nconst StyledMenu = withStyles({\r\n  paper: {\r\n    border: '1px solid #d3d4d5',\r\n  },\r\n})((props) => (\r\n  <Menu\r\n    elevation={0}\r\n    getContentAnchorEl={null}\r\n    anchorOrigin={{\r\n      vertical: 'bottom',\r\n      horizontal: 'center',\r\n    }}\r\n    transformOrigin={{\r\n      vertical: 'top',\r\n      horizontal: 'center',\r\n    }}\r\n    {...props}\r\n  />\r\n));\r\n\r\nexport default function UserMenu() {\r\n  const classes = useStyles();\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n  const [photoUrl, setPhotoUrl] = useState('');\r\n  const user = useSelector(store => store.user.user);\r\n  const dispatch = useDispatch();\r\n\r\n  const handleClick = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    handleClose();\r\n    dispatch(logout());\r\n\r\n    axios.post('/auth/logout', {\r\n      refreshToken: localStorage.getItem('refresh_token')\r\n    }, { headers: { Authorization: 'Bearer ' + localStorage.getItem('token') } })\r\n      .then(res => {\r\n        localStorage.removeItem('refresh_token');\r\n        localStorage.removeItem('token');\r\n\r\n      })\r\n  }\r\n\r\n  useEffect(() => {\r\n    //setUser(jwt_decode(localStorage.getItem('token')));\r\n    axios.get('/persons/photo', { headers: { Authorization: 'Bearer ' + localStorage.getItem('token') } })\r\n      .then(res => {\r\n        if (res.data.photo !== null) setPhotoUrl(res.data.photo)\r\n        else setPhotoUrl('');\r\n      });\r\n\r\n  }, [user]);\r\n\r\n  const renderUserCabinet = () => {\r\n    if (user.role === 'User') {\r\n      return (\r\n        <StyledMenuItem component={Link} onClick={handleClose} to=\"/cabinet\">\r\n          <ListItemIcon>\r\n            <AssignmentOutlinedIcon fontSize=\"small\" />\r\n          </ListItemIcon>\r\n          <ListItemText primary=\"Мої записи\" />\r\n        </StyledMenuItem>\r\n      )\r\n    }\r\n  }\r\n\r\n  const renderDoctorCabinet = () => {\r\n    if (user.role === 'Doctor') {\r\n      return (\r\n        <StyledMenuItem component={Link} onClick={handleClose} to=\"/doctor_cabinet\">\r\n          <ListItemIcon>\r\n            <BallotOutlinedIcon fontSize=\"small\" />\r\n          </ListItemIcon>\r\n          <ListItemText primary=\"Записи до мене\" />\r\n        </StyledMenuItem>\r\n      )\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <IconButton\r\n        aria-label=\"account of current user\"\r\n        aria-controls=\"menu-appbar\"\r\n        aria-haspopup=\"true\"\r\n        onClick={handleClick}\r\n        color=\"inherit\"\r\n      >\r\n        {photoUrl === '' && <AccountCircle className={classes.photo} />}\r\n        {photoUrl !== '' && <Avatar src={photoUrl} className={classes.photo} />}\r\n        <Typography style={{ whiteSpace: 'nowrap' }}>{user.first_name} {user.last_name}</Typography>\r\n\r\n      </IconButton>\r\n      <StyledMenu\r\n        elevation={0}\r\n        id=\"menu-appbar\"\r\n        anchorEl={anchorEl}\r\n        keepMounted\r\n        open={Boolean(anchorEl)}\r\n        onClose={handleClose}\r\n      >\r\n        {renderUserCabinet()}\r\n        {renderDoctorCabinet()}\r\n        <StyledMenuItem onClick={handleLogout}>\r\n          <ListItemIcon>\r\n            <ExitToAppOutlinedIcon fontSize=\"small\" />\r\n          </ListItemIcon>\r\n          <ListItemText primary=\"Вийти\" />\r\n        </StyledMenuItem>\r\n      </StyledMenu>\r\n    </div>\r\n  )\r\n\r\n}\r\n","export default __webpack_public_path__ + \"static/media/logo.0bf4f625.png\";","import { React} from 'react';\r\nimport { AppBar, Typography, makeStyles, Button, List, ListItem } from '@material-ui/core';\r\nimport LoginForm  from './loginForm';\r\nimport UserMenu from './userMenu';\r\nimport { useSelector, useDispatch } from 'react-redux'\r\n\r\nimport {Link} from 'react-router-dom';\r\nimport { openForm } from '../../actions/loginForm';\r\nimport logo from '../../static/images/logo.png';\r\n\r\n\r\nconst useStyles = makeStyles({\r\n    header: {\r\n        backgroundColor: '#009899',\r\n        height: '10vh',\r\n        display: 'flex',\r\n        flexDirection: 'row',\r\n        alignItems: 'center',\r\n        justifyContent: 'space-between',\r\n        padding: '0 10vh',\r\n        borderRadius: '0 0 70px 70px',\r\n\r\n    },\r\n\r\n    title: {\r\n        textDecoration: 'none',\r\n        width: 'fit-content',\r\n        lineHeight: '100%',\r\n        display: 'flex',\r\n        alignItems: 'center'\r\n    },\r\n\r\n    loginButton: {\r\n        width: 'fit-content',\r\n        height: '50%',\r\n        color: 'white',\r\n        borderColor: 'white',\r\n        '&:hover': {\r\n            color: '#009899',\r\n            backgroundColor: 'white',\r\n            fontWeight: 'bolder'\r\n        }\r\n    },\r\n    list: {\r\n        display: 'flex',\r\n        flexDirection: 'row',\r\n        marginRight: '3vh'\r\n    },\r\n\r\n    listItem: {\r\n       \r\n        textDecoration: 'none',\r\n        color: 'white',\r\n        fontSize: 'medium',\r\n        whiteSpace: 'nowrap',\r\n    },\r\n\r\n    first: {\r\n        textDecoration: 'none',\r\n        color: 'white',\r\n        fontSize: 'medium',\r\n        lineHeight: '10px',\r\n        whiteSpace: 'nowrap',\r\n    },\r\n    nav: {\r\n        display: 'flex',\r\n        flexDirection: 'row',\r\n        alignItems: 'center',\r\n    },\r\n    logo: {\r\n        width: '6%',\r\n        marginRight: '20px'\r\n    }\r\n\r\n});\r\n\r\nexport function Header() {\r\n    const isLoggedIn  = useSelector(store => store.user.isLoggedIn);\r\n    const dispatch = useDispatch();\r\n    const classes = useStyles();\r\n\r\n    const handleLogin = () =>  dispatch(openForm());\r\n\r\n\r\n    const renderUserMenu =  () => {\r\n        if(isLoggedIn) return <UserMenu />;\r\n        return  <Button className={classes.loginButton} variant='outlined' color=\"primary\" onClick={handleLogin}>Увійти</Button>;\r\n    }\r\n    return(\r\n        <AppBar position='static' className={classes.header}>\r\n            \r\n            <Typography  variant='h6' className={classes.title} component={Link} to='/' color='inherit' textDecoration='inherit'>\r\n                <img src={logo} alt='Helsi' className={classes.logo}/>\r\n                H E L S I\r\n            </Typography>\r\n            <nav className={classes.nav}>\r\n                <List className={classes.list}>\r\n                    <ListItem component={Link} to='/' className={classes.first}\r\n                        color='inherit' textDecoration='inherit'>\r\n                        Пошук лікаря\r\n                    </ListItem>\r\n                    <ListItem component={Link} to='/about' className={classes.listItem}\r\n                        color='inherit' textDecoration='inherit'>\r\n                        Про helsi\r\n                    </ListItem>\r\n                </List>\r\n\r\n               {renderUserMenu()}\r\n            </nav>\r\n            <LoginForm>\r\n\r\n            </LoginForm>\r\n        </AppBar>\r\n    ) \r\n}\r\n\r\n\r\nexport default Header\r\n","import { React } from \"react\";\r\nimport {Typography, makeStyles} from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles({\r\n  container: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    color: 'white',\r\n    width: '100%',\r\n    height: '8vh',\r\n    background: '#009899',\r\n    borderRadius: '70px 70px  0 0',\r\n    boxShadow: ' -1px -7px 13px -10px rgba(0,0,0,0.75)'\r\n  }\r\n});\r\n\r\n export default function Footer(){\r\n    return (\r\n      <div>\r\n        <Typography variant='subtitle2' className={useStyles().container}> \r\n            &copy; {new Date().getFullYear()} Copyright: Helsi TEAM\r\n        </Typography>\r\n      </div>\r\n    );\r\n}","import {React} from 'react';\r\nimport { makeStyles, Typography } from '@material-ui/core';\r\nimport QueryBuilderIcon from '@material-ui/icons/QueryBuilder';\r\nimport CalendarTodayIcon from '@material-ui/icons/CalendarToday';\r\nimport DomainIcon from '@material-ui/icons/Domain';\r\n\r\nconst useStyles = makeStyles({\r\n    root: {\r\n        display: 'flex',\r\n        margin: '20px 20px',\r\n        alignItems: 'center',\r\n        '& img': {\r\n            height: '110px',\r\n            marginRight: '10px',\r\n            borderRadius: '10px'\r\n        }\r\n    },\r\n    inlineInfo: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        marginTop: '4px',\r\n        '& svg': {\r\n            marginRight: '5px'\r\n        }\r\n    }\r\n\r\n});\r\n\r\nexport default function TimeSlotCard({start_time, date_visiting, doctor_name, doctor_photo, hospital, key}) {\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <img src={doctor_photo} alt='Фото' />\r\n            <div className={classes.info}>\r\n                <Typography>{doctor_name}</Typography>\r\n                <div className={classes.inlineInfo}>\r\n                    <QueryBuilderIcon />\r\n                    Час запису: {start_time}\r\n                </div>\r\n                <div className={classes.inlineInfo}>\r\n                    <CalendarTodayIcon />\r\n                    Дата запису: {date_visiting}\r\n                </div>\r\n                <div className={classes.inlineInfo}>\r\n                    <DomainIcon />\r\n                    Місце прийому: {hospital}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import { React, useState, useEffect } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { useSelector } from 'react-redux'\r\nimport { makeStyles, useTheme } from '@material-ui/core';\r\nimport axios from 'axios';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\nimport Box from '@material-ui/core/Box';\r\nimport SwipeableViews from 'react-swipeable-views';\r\nimport TimeSlotCard from './timeSlotCard';\r\nimport Divider from '@material-ui/core/Divider';\r\n\r\n\r\naxios.defaults.baseURL = \"https://helsi-289508.nw.r.appspot.com/api/v1\";\r\n\r\n\r\nfunction TabPanel(props) {\r\n    const { children, value, index, ...other } = props;\r\n\r\n    return (\r\n        <div\r\n            role=\"tabpanel\"\r\n            hidden={value !== index}\r\n            id={`full-width-tabpanel-${index}`}\r\n            aria-labelledby={`full-width-tab-${index}`}\r\n            {...other}\r\n        >\r\n            {value === index && (\r\n                <Box>\r\n                    {children}\r\n                </Box>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction a11yProps(index) {\r\n    return {\r\n        id: `full-width-tab-${index}`,\r\n        'aria-controls': `full-width-tabpanel-${index}`,\r\n    };\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        backgroundColor: theme.palette.background.paper,\r\n        maxWidth: 500,\r\n        margin: 'auto',\r\n        borderRadius: '20px',\r\n        border: '6px solid #009899',\r\n        padding: '-20px',\r\n        boxShadow: '0px 0px 14px 0px rgba(0,0,0,0.75)'\r\n    },\r\n    list: {\r\n        listStyle: 'none',\r\n        margin: 0,\r\n        padding: 0\r\n    },\r\n    appBar: {\r\n        backgroundColor: '#009899',\r\n        borderRadius: '20px',\r\n        marginTop: '-10px',\r\n        marginLeft: '-23px',\r\n        width: '110%'\r\n    },\r\n    indicator: {\r\n        margin: '0 20px 0 20px',\r\n        width: '210px !important',\r\n        backgroundColor: 'white'\r\n    }\r\n}));\r\n\r\nexport default function UserCabinet() {\r\n    const classes = useStyles();\r\n    const history = useHistory();\r\n    const isLoggedIn = useSelector(store => store.user.isLoggedIn);\r\n    const user = useSelector(store => store.user.user);\r\n    const [data, setData] = useState({ past: [], future: [] });\r\n\r\n    const theme = useTheme();\r\n    const [value, setValue] = useState(0);\r\n\r\n    if (!isLoggedIn || user.role !== 'User') {\r\n        history.push('/');\r\n    }\r\n\r\n    useEffect(() => {\r\n        axios.get('/persons/time_slots',\r\n            { headers: { Authorization: 'Bearer ' + localStorage.getItem('token') } })\r\n            .then(response => {\r\n                setData(response.data)\r\n            });\r\n    }, []);\r\n\r\n    const handleChange = (event, newValue) => {\r\n        setValue(newValue);\r\n    };\r\n\r\n    const handleChangeIndex = (index) => {\r\n        setValue(index);\r\n    };\r\n\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <AppBar position=\"static\" className={classes.appBar}>\r\n                <Tabs\r\n                    value={value}\r\n                    onChange={handleChange}\r\n                    indicatorColor=\"primary\"\r\n                    variant=\"fullWidth\"\r\n                    aria-label=\"full width tabs example\"\r\n                    classes={{ indicator: classes.indicator }}\r\n                >\r\n                    <Tab label=\"Ваші записи\" {...a11yProps(0)} />\r\n                    <Tab label=\"Історія записів\" {...a11yProps(1)} />\r\n                </Tabs>\r\n            </AppBar>\r\n            <SwipeableViews\r\n                axis={theme.direction === 'rtl' ? 'x-reverse' : 'x'}\r\n                index={value}\r\n                onChangeIndex={handleChangeIndex}\r\n            >\r\n                <TabPanel value={value} index={0} dir={theme.direction}>\r\n                    <ul className={classes.list}>\r\n                        {data.future.map((slot, index) => (\r\n                            <li key={index}>\r\n                                {index !== 0 && <Divider />}\r\n                                <TimeSlotCard {...slot} />\r\n\r\n                            </li>\r\n                        ))}\r\n                    </ul>\r\n                </TabPanel>\r\n                <TabPanel value={value} index={1} dir={theme.direction}>\r\n                    <ul className={classes.list}>\r\n                        {data.past.map((slot, index) => (\r\n                            <li key={index}>\r\n                                {index !== 0 && <Divider />}\r\n                                <TimeSlotCard {...slot} />\r\n\r\n                            </li>\r\n                        ))}\r\n                    </ul>\r\n                </TabPanel>\r\n            </SwipeableViews>\r\n        </div>\r\n    )\r\n}\r\n","import { React, useState} from 'react';\r\nimport { makeStyles } from '@material-ui/core';\r\nimport Accordion from '@material-ui/core/Accordion';\r\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\r\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport EventOutlinedIcon from '@material-ui/icons/EventOutlined';\r\nimport PhoneInTalkOutlinedIcon from '@material-ui/icons/PhoneInTalkOutlined';\r\nimport EmailOutlinedIcon from '@material-ui/icons/EmailOutlined';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        width: '80%',\r\n        margin: '10px auto',\r\n        borderRadius: '40px'\r\n    },\r\n    heading: {\r\n        fontSize: theme.typography.pxToRem(15),\r\n        flexBasis: '33.33%',\r\n        flexShrink: 0,\r\n    },\r\n    secondaryHeading: {\r\n        fontSize: theme.typography.pxToRem(15),\r\n        color: theme.palette.text.secondary,\r\n    },\r\n    content: {\r\n        display: 'flex',\r\n        '& img': {\r\n            height: '80px',\r\n            marginRight: '10px',\r\n            borderRadius: '10px'\r\n        }\r\n    },\r\n    infoInline: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        marginBottom: '5px'\r\n    }\r\n}));\r\n\r\nexport default function TimeSlotCard({ first_name, last_name, middle_name, photo,\r\n    phone_number, email, date_born, start_time }) {\r\n\r\n    const classes = useStyles();\r\n    const [expanded, setExpanded] = useState(false);\r\n\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <Accordion expanded={expanded} onChange={() => setExpanded(!expanded)}>\r\n                <AccordionSummary\r\n                    expandIcon={<ExpandMoreIcon />}\r\n                    aria-controls=\"panel1bh-content\"\r\n                    id=\"panel1bh-header\"\r\n                >\r\n                    <Typography className={classes.heading}>{start_time.substring(0, 5)}</Typography>\r\n                    <Typography className={classes.secondaryHeading}>\r\n                        {first_name} {middle_name} {last_name} \r\n                    </Typography>\r\n                </AccordionSummary>\r\n                <AccordionDetails>\r\n                    <div className={classes.content}>\r\n                        <img src={photo} alt='Фото користувача' />\r\n                        <div className={classes.infoContainer}>\r\n                            <div className={classes.infoInline}>\r\n                                <EventOutlinedIcon />\r\n                                Дата народження: {new Date(date_born).toISOString().substr(0, 10)}\r\n                            </div>\r\n                            <div className={classes.infoInline}>\r\n                                <PhoneInTalkOutlinedIcon />\r\n                                Номер телефону: {phone_number}\r\n                            </div>\r\n                            <div className={classes.infoInline}>\r\n                                <EmailOutlinedIcon />\r\n                                Електронна пошта: {email}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </AccordionDetails>\r\n            </Accordion>\r\n        </div>\r\n    );\r\n\r\n}","import {React, useState, useEffect } from 'react';\r\nimport {useHistory} from 'react-router-dom';\r\nimport {useSelector} from 'react-redux';\r\nimport {makeStyles, FormControl, Select, InputLabel, FormHelperText, MenuItem, Divider} from '@material-ui/core';\r\nimport TimeSlotCard from './timeSlotCard';\r\nimport axios from 'axios';\r\n\r\n\r\nconst useStyles = makeStyles({\r\n    whiteColor: {\r\n        color: 'white !important'\r\n    },\r\n    select: {\r\n        '&:before': {\r\n            borderColor: 'white',\r\n        },\r\n        '&:after': {\r\n            borderColor: 'white',\r\n        },\r\n        width: '15vw',\r\n\r\n    },\r\n    icon: {\r\n        fill: 'white',\r\n    },\r\n    main: {\r\n        margin: 'auto',\r\n        width: '50%',\r\n        backgroundColor: '#009899',\r\n        padding: '2vh 0',\r\n        borderRadius: '30px',\r\n        minHeight: '45vh',\r\n        boxShadow: '0px 0px 12px 0px rgba(0,0,0,0.75)'\r\n    },\r\n\r\n    picker: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center'\r\n    },\r\n    datePicker: {\r\n        marginRight: '4vw',\r\n        width: '15vw'\r\n    },\r\n    contentContainer: {\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        margin: '10px 0'\r\n    },\r\n    list: {\r\n        listStyle: 'none',\r\n        padding: 0,\r\n        margin: 0\r\n    },\r\n    divider: {\r\n        backgroundColor: 'white',\r\n        width: '90%',\r\n        margin: '10px auto'\r\n    }\r\n});\r\n\r\nexport default function DoctorCabinet() {\r\n    const user = useSelector(store => store.user.user)\r\n    const isLoggedIn = useSelector(store => store.user.isLoggedIn);\r\n    const history = useHistory();\r\n    const [workPlaces, setWorkPlaces] = useState([]);\r\n    const [currentWorkPlace, setCurrentWorkPlace] = useState(0);\r\n    const [date, setDate] = useState(new Date().toISOString().slice(0, 10));\r\n    const [timeSlots, setTimeSlots] = useState([]);\r\n    const classes = useStyles();\r\n    \r\n\r\n    if(!isLoggedIn || user.role !== 'Doctor') {\r\n        history.push('/');\r\n    }\r\n    useEffect(() => {\r\n        async function fetchHospitals() {\r\n            const result = await axios.get(`/doctors/${user.doctorId}`);\r\n            setWorkPlaces(result.data.workPlaces);\r\n            setCurrentWorkPlace(result.data.workPlaces[0].id);\r\n        }\r\n        if(isLoggedIn) fetchHospitals();\r\n    }, [isLoggedIn, user]);\r\n\r\n    useEffect(() => {\r\n        async function fetchTimeSlots() {\r\n            const result = await axios.get(`/doctors/time_slots/?date=${date}&work_place=${currentWorkPlace}`);\r\n            result.data.sort((a,b) => a.start_time >  b.start_time ? 1 : -1);\r\n            setTimeSlots(result.data);\r\n        }\r\n        if(currentWorkPlace !== 0) fetchTimeSlots();\r\n    }, [date, currentWorkPlace])\r\n\r\n    const renderWorkPlaces = () => {\r\n        return workPlaces.map(workPlace =>\r\n            <MenuItem value={workPlace.id} key={workPlace.id}>{workPlace.name}</MenuItem>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div className={classes.main}>\r\n                <div className={classes.picker}>\r\n                    <input type=\"date\" value={date}\r\n                        onChange={(e) => setDate(new Date(e.target.value).toISOString().slice(0, 10))}\r\n                        className={classes.datePicker}></input>\r\n                    <FormControl>\r\n                        <InputLabel id=\"hospital-label\" className={classes.whiteColor}>Поліклініка</InputLabel>\r\n                        <Select\r\n                            labelId=\"hospital-label\"\r\n                            id=\"hospital-label-select\"\r\n                            value={currentWorkPlace}\r\n                            onChange={(event) => setCurrentWorkPlace(event.target.value)}\r\n                            className={classes.select}\r\n                            classes={{\r\n                                icon: classes.icon,\r\n                                root: classes.whiteColor\r\n                            }}\r\n                        >\r\n                            {renderWorkPlaces()}\r\n                        </Select>\r\n                        <FormHelperText className={classes.whiteColor}>Поліклініка, де Ви працюєте</FormHelperText>\r\n                    </FormControl>\r\n\r\n\r\n                </div>\r\n                <Divider className={classes.divider}/>\r\n                <div>\r\n                    <ul className={classes.list}>     \r\n                        {timeSlots.map((timeSlot, index) => <li key={index}><TimeSlotCard start_time={timeSlot.start_time} {...timeSlot.person} /></li>)}\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n\r\n    \r\n}","import {React} from 'react';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport InputBase from '@material-ui/core/InputBase';\r\nimport { makeStyles} from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    search: {\r\n      position: 'relative',\r\n      borderRadius: theme.shape.borderRadius,\r\n      backgroundColor: '#fff',\r\n      color: '#009899 !important',\r\n      transition: 'color 0.25s, background-color 0.25s',\r\n      width: '35ch',\r\n      '&:hover': {\r\n        backgroundColor: '#8DD1F3',\r\n        color: '#fff !important',\r\n        transition: 'color 0.25s, background-color 0.25s',\r\n      },\r\n      margin: 'auto',\r\n      marginLeft: 0\r\n    },\r\n    searchIcon: {\r\n      padding: theme.spacing(0, 2),\r\n      height: '100%',\r\n      position: 'absolute',\r\n      pointerEvents: 'none',\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      justifyContent: 'center',\r\n    },\r\n    inputRoot: {\r\n      color: '#009899 !!important',\r\n    },\r\n    inputInput: {\r\n      padding: theme.spacing(1, 1, 1, 0),\r\n      paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\r\n      transition: theme.transitions.create('width'),\r\n      color: '#009899',\r\n      transition: 'color 0.25s',\r\n      [theme.breakpoints.up('sm')]: {\r\n        width: '30ch',\r\n        '&:focus': {\r\n          width: '50ch',\r\n          \r\n        },\r\n        '&:hover': {\r\n          color: 'white',\r\n          transition: 'color 0.25s'\r\n        }\r\n      },\r\n    },\r\n  }));\r\n\r\n\r\n\r\nexport default function SearchingField({handleChange}) {\r\n    const classes = useStyles();\r\n    return (\r\n        <div className={classes.search}> \r\n            <div className={classes.searchIcon}>\r\n                <SearchIcon />\r\n            </div>\r\n            <InputBase\r\n                placeholder=\"Знайти...\"\r\n                classes={{\r\n                    root: classes.inputRoot,\r\n                    input: classes.inputInput,\r\n                }}\r\n                inputProps={{className: classes.input}}\r\n                onChange = {handleChange}\r\n            />\r\n        </div>\r\n    );\r\n}\r\n","import { React, useState, useEffect } from 'react';\r\nimport { FormControl, InputLabel, MenuItem, FormHelperText, Select, makeStyles } from '@material-ui/core';\r\nimport axios from 'axios';\r\n\r\naxios.defaults.baseURL = \"https://helsi-289508.nw.r.appspot.com/api/v1\";\r\n\r\nconst useStyles = makeStyles({\r\n    whiteColor: {\r\n        color: 'white !important'\r\n    },\r\n    select: {\r\n        '&:before': {\r\n            borderColor: 'white',\r\n        },\r\n        '&:after': {\r\n            borderColor: 'white',\r\n        }\r\n    },\r\n    icon: {\r\n        fill: 'white',\r\n    }\r\n\r\n});\r\n\r\nexport default function CitiesDropdown({ handleChange }) {\r\n    const classes = useStyles();\r\n    const [cities, setCities] = useState([]);\r\n    const [value, setValue] = useState('');\r\n\r\n    useEffect(() => {\r\n        axios.get('/addresses/cities')\r\n            .then(res => setCities(res.data.cities));\r\n    }, []);\r\n\r\n\r\n    useEffect(() => {\r\n        handleChange(value);\r\n    }, [value]);\r\n\r\n    const renderCities = () => cities.map((city, index) => <MenuItem value={city} key={index}>{city}</MenuItem>);\r\n\r\n    const handleChangeValue = (event) => setValue(event.target.value);\r\n\r\n\r\n    return (\r\n        <FormControl>\r\n            <InputLabel id=\"city-label\" className={classes.whiteColor}>Місто</InputLabel>\r\n            <Select\r\n                labelId=\"city-label\"\r\n                id=\"city-label-select\"\r\n                value={value}\r\n                onChange={handleChangeValue}\r\n                className={classes.select}\r\n                classes={{\r\n\r\n                    icon: classes.icon,\r\n                    root: classes.whiteColor\r\n                }}\r\n            >\r\n                <MenuItem value=''>\r\n                    <em>None</em>\r\n                </MenuItem>\r\n                {cities.length !== 0 && renderCities()}\r\n            </Select>\r\n            <FormHelperText className={classes.whiteColor}>Місто, в якому шукаєте лікаря</FormHelperText>\r\n        </FormControl>\r\n    );\r\n}\r\n\r\n","import {React, useCallback} from 'react';\r\nimport {useHistory} from 'react-router-dom';\r\nimport {Button, makeStyles, Typography} from '@material-ui/core';\r\nimport ApartmentRoundedIcon from '@material-ui/icons/ApartmentRounded';\r\nimport AssignmentIndRoundedIcon from '@material-ui/icons/AssignmentIndRounded';\r\n\r\nconst useStyles = makeStyles({\r\n    infoContainer: {\r\n        width: '400px'\r\n    },\r\n\r\n    info: {\r\n        display: 'flex',\r\n        color: '#009899',\r\n        margin: '10px 0'\r\n    },\r\n    card: {\r\n        display: 'flex',\r\n        margin: '20px 0',\r\n        backgroundColor: '#E9F1F3',\r\n        color: '#009899',\r\n        border: '7px solid #009899',\r\n        borderRadius: '20px',\r\n        alignItems: 'center'\r\n    },\r\n    photo: {\r\n        height: '110px',\r\n        margin: '10px 10px',\r\n        borderRadius: '10px'\r\n\r\n    },\r\n    button: {\r\n        display: 'block',\r\n        color: '#009899',\r\n        borderColor: '#009899',\r\n        border: '3px solid',\r\n        height: '40px',\r\n        fontWeight: 'bold',\r\n        '&:hover': {\r\n            backgroundColor: '#009899',\r\n            color: '#E9F1F3'\r\n        }\r\n\r\n        \r\n    },\r\n    title: {\r\n        fontSize: '20px',\r\n        fontWeight: 'bold'\r\n    }\r\n});\r\n\r\nexport default function DoctorCard({name, surname, middleName, hospitals, job, photo, id}) {\r\n    const classes = useStyles();\r\n    const history = useHistory();\r\n\r\n    const reducedHospitals = hospitals.length <= 1 ? hospitals[0] : hospitals[0] + ', ' + hospitals[1];\r\n\r\n    const handleClick = useCallback(() => history.push(`/schedule/${id}`), [history]);\r\n    \r\n    return (\r\n        <div className={classes.card}>\r\n            <img src={photo} className={classes.photo}/>\r\n            <div className={classes.infoContainer}>\r\n                <Typography className={classes.title}>{name} {middleName} {surname}</Typography>\r\n                <div className={classes.info}>\r\n                    <AssignmentIndRoundedIcon />\r\n                    <Typography>Спеціальність: {job}</Typography>\r\n                </div>\r\n                <div className={classes.info}>\r\n                    <ApartmentRoundedIcon />\r\n                    <Typography>Лікарня: {reducedHospitals}</Typography>\r\n                </div>\r\n            </div>\r\n            <Button className={classes.button} variant=\"outlined\" onClick={handleClick}>Записатися</Button>\r\n        </div>\r\n    )\r\n}","import { React, useState } from 'react';\r\nimport { makeStyles, Button, FormControl, RadioGroup, FormControlLabel, Radio, Typography, Divider } from '@material-ui/core';\r\nimport SearchingField from './searchingField';\r\nimport CitiesDropdown from './citiesDropdown';\r\nimport axios from 'axios';\r\nimport DoctorCard from './doctorCard';\r\n\r\naxios.defaults.baseURL = \"https://helsi-289508.nw.r.appspot.com/api/v1\";\r\n\r\nconst ITEMS_PER_PAGE = 5;\r\n\r\nconst useStyles = makeStyles({\r\n    form: {\r\n        backgroundColor: '#009899',\r\n        width: '100vh',\r\n        margin: 'auto',\r\n        padding: '10px 40px ',\r\n        borderRadius: '30px',\r\n        boxShadow: '0px 0px 37px -10px rgba(0,0,0,0.75)'\r\n\r\n    },\r\n    searchContainer: {\r\n        display: 'flex',\r\n        flexDirection: 'row',\r\n        marginBottom: '2vh',\r\n    },\r\n    button: {\r\n        display: 'block',\r\n        margin: 'auto',\r\n        color: 'white',\r\n        borderColor: 'white'\r\n    },\r\n    raadioGroup: {\r\n        display: 'flex',\r\n        flexDirection: 'row'\r\n    },\r\n    typeForm: {\r\n        display: 'flex',\r\n        flexDirection: 'row',\r\n        justifyContent: 'center',\r\n        width: '100%',\r\n        marginTop: '1%'\r\n    },\r\n    title: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        marginRight: '10%',\r\n        color: 'white'\r\n    },\r\n    dividerColor: {\r\n        background: '#fff'\r\n    },\r\n    radio: {\r\n        color: '#fff',\r\n        '&$checked': {\r\n            color: '#fff'\r\n        }\r\n    },\r\n    label: {\r\n        color: '#fff'\r\n    },\r\n    checked: {},\r\n    doctorsContainer: {\r\n        backgroundColor: '#E9F1F3',\r\n        borderRadius: '20px',\r\n        padding: '10px 20px',\r\n        marginBottom: '3vh',\r\n        position: 'relative'\r\n    },\r\n    nextPageButton: {\r\n        position: 'fixed',\r\n        borderRadius: '50%',\r\n        bottom: '10px'\r\n\r\n    }\r\n});\r\n\r\nexport default function SearchingForm() {\r\n    const classes = useStyles();\r\n    const [searchType, setSearchType] = useState('name');\r\n    const [searchQuery, setSearchQuery] = useState('');\r\n    const [doctors, setDoctors] = useState([]);\r\n    const [city, setCity] = useState('');\r\n\r\n    const handleSearchTypeChange = event => setSearchType(event.target.value);\r\n    const handleQueryChange = event => setSearchQuery(event.target.value);\r\n\r\n    const searchHandle = () => {\r\n        console.log(city);\r\n        axios.get(`/doctors/${searchType}/?${searchType}=${searchQuery}&city=${city}`)\r\n            .then(res => setDoctors(res.data));\r\n    }\r\n\r\n    const renderDoctors = () => {\r\n        return doctors.map((doctor, index) => (\r\n            <DoctorCard name={doctor.first_name} surname={doctor.last_name} middleName={doctor.middle_name}\r\n                job={doctor.job} photo={doctor.photo} hospitals={doctor.hospitals} key={index} id={doctor.id}\r\n            />\r\n        ))\r\n    }\r\n\r\n    return (\r\n        <div className={classes.form}>\r\n            <div className={classes.searchContainer}>\r\n                <SearchingField handleChange={handleQueryChange} />\r\n                <CitiesDropdown handleChange={(value) => setCity(value)} />\r\n                <Button className={classes.button} variant=\"outlined\" onClick={searchHandle}>Знайти</Button>\r\n            </div>\r\n            <Divider classes={{ root: classes.dividerColor }} />\r\n            <FormControl component=\"fieldset\" className={classes.typeForm}>\r\n                <Typography variant=\"subtitle1\" className={classes.title}>Пошук за:</Typography>\r\n                <RadioGroup aria-label=\"search-type\" name=\"searchType\"\r\n                    value={searchType}\r\n                    onChange={handleSearchTypeChange}\r\n                    className={classes.raadioGroup}\r\n                >\r\n                    <FormControlLabel value=\"name\" className={classes.label}\r\n                        control={<Radio classes={{ root: classes.radio, checked: classes.checked }} />} label=\"Ім'ям\" />\r\n                    <FormControlLabel value=\"job\" className={classes.label}\r\n                        control={<Radio classes={{ root: classes.radio, checked: classes.checked }} />} label=\"Спеціальністю\" />\r\n                    <FormControlLabel value=\"hospital\" className={classes.label}\r\n                        control={<Radio classes={{ root: classes.radio, checked: classes.checked }} />} label=\"Назвою закладу\" />\r\n                </RadioGroup>\r\n            </FormControl>\r\n            {doctors.length !== 0 && <div className={classes.doctorsContainer}>\r\n                {renderDoctors()}\r\n\r\n            </div>\r\n            }\r\n        </div>\r\n    );\r\n}","import {React} from 'react';\r\nimport {makeStyles, Typography, Divider} from '@material-ui/core';\r\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\r\nimport BusinessIcon from '@material-ui/icons/Business';\r\nimport MailOutlineIcon from '@material-ui/icons/MailOutline';\r\nimport PhoneIcon from '@material-ui/icons/Phone';\r\n\r\nconst useStyles = makeStyles({\r\n    root: {\r\n        borderRadius: '30px',\r\n        backgroundColor: '#009899',\r\n        width: '25vw',\r\n        textAlign: 'center',\r\n        marginLeft: '13vw',\r\n        height: 'fit-content',\r\n        boxShadow: '0px 0px 12px 0px rgba(0,0,0,0.75)',\r\n        \r\n        \r\n        '& img': {\r\n            height: '20vh',\r\n            borderRadius: '15px',\r\n            marginTop: '15px'\r\n        }\r\n    },\r\n    \r\n    containerInfo: {\r\n        backgroundColor: '#E9F1F3', \r\n        margin: '15px',\r\n        borderRadius: '10px 10px 20px 20px',\r\n        paddingTop: '10px',\r\n        '& hr': {\r\n            width: '80%',\r\n            margin: '0 auto'\r\n        }\r\n    },\r\n\r\n    inlineBlock: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        color: '#009899',\r\n        margin: '5px 0',\r\n        '& svg': {\r\n            margin: '0 10px'\r\n        }\r\n    },\r\n\r\n    title: {\r\n        color: '#009899',\r\n        fontWeight: 'bold',\r\n        marginBottom: '10px'\r\n    }\r\n});\r\n\r\nexport default function DoctorCard({doctor}) {\r\n    const classes = useStyles();\r\n    return (\r\n        <div className={classes.root}>\r\n            <img src={doctor.photo} alt='Фото лікаря' />\r\n            <div className={classes.containerInfo}>\r\n                <Typography className={classes.title}>{doctor.last_name} {doctor.first_name} {doctor.middle_name}</Typography>\r\n                <Divider />\r\n                <div className={classes.inlineBlock}>\r\n                    <AccountCircleIcon />\r\n                    {doctor.job}\r\n                </div>\r\n                <Divider />\r\n                <div className={classes.inlineBlock}>\r\n                    <BusinessIcon />\r\n                    {doctor.hospitals.join(', ')}\r\n                </div>\r\n                <Divider />\r\n                <div className={classes.inlineBlock}>\r\n                    <MailOutlineIcon />\r\n                    {doctor.email}\r\n                </div>\r\n                <Divider />\r\n                <div className={classes.inlineBlock}>\r\n                    <PhoneIcon />\r\n                    {doctor.phone_number}\r\n                </div>\r\n                <Divider />\r\n            </div>\r\n        </div>\r\n    )\r\n}","import moment from \"moment\";\r\nimport MomentUtils from \"@date-io/moment\";\r\nimport MoreIcon from \"@material-ui/icons/MoreVert\";\r\nimport React, { useState, useCallback } from \"react\";\r\nimport { IconButton, Menu, MenuItem } from \"@material-ui/core\";\r\nimport { KeyboardDatePicker, MuiPickersUtilsProvider } from \"@material-ui/pickers\";\r\nimport { createMuiTheme } from \"@material-ui/core\";\r\nimport { ThemeProvider, makeStyles } from \"@material-ui/styles\";\r\n\r\nimport \"moment/locale/uk\";\r\n\r\nmoment.locale(\"uk\"); // it is required to select default locale manually\r\n\r\nconst materialTheme = createMuiTheme({\r\n    overrides: {\r\n        MuiPickersToolbar: {\r\n            toolbar: {\r\n                backgroundColor: '#009899',\r\n            },\r\n        },\r\n        MuiPickersDay: {\r\n            '&:hover': {\r\n                backgroundColor: '#009899',\r\n            },\r\n            daySelected: {\r\n                backgroundColor: '#009899',\r\n            },\r\n        },\r\n    }\r\n    }\r\n);\r\n\r\n\r\nconst useStyles = makeStyles({\r\n    input: {\r\n        color: 'white',\r\n        '&:before': {\r\n            borderColor: 'white'\r\n        },\r\n        '&:hover:before': {\r\n            borderColor: 'white'\r\n        },\r\n        width: '12vw'\r\n    },\r\n\r\n    root: {\r\n        '& svg': {\r\n            color: 'white'\r\n        },\r\n        marginRight: '10%',\r\n        marginBottom: '6px'\r\n    }\r\n\r\n})\r\n\r\n\r\n\r\nexport default function DatePicker({handleSubmit}) {\r\n   \r\n    const classes = useStyles();\r\n    const [selectedDate, handleDateChange] = useState(new Date());\r\n    \r\n\r\n\r\n\r\n    return (\r\n        <MuiPickersUtilsProvider libInstance={moment} utils={MomentUtils} locale=\"uk\">\r\n            <ThemeProvider theme={materialTheme}>\r\n                <KeyboardDatePicker\r\n                    value={selectedDate}\r\n                    views={[\"month\", \"date\"]}\r\n                    onChange={date => handleDateChange(date)}\r\n                    disablePast={true}\r\n                    okLabel='Вибрати'\r\n                    cancelLabel='Скасувати'\r\n                    id='kek'\r\n                    InputProps={{ className: classes.input}}\r\n                    className={classes.root}\r\n                    onAccept={handleSubmit}\r\n                    \r\n                />\r\n            </ThemeProvider>\r\n\r\n        </MuiPickersUtilsProvider>\r\n    );\r\n}\r\n","import { React, useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport {\r\n    makeStyles, Typography, FormControl, Button,\r\n    InputLabel, Select, MenuItem, FormHelperText,\r\n    Snackbar\r\n} from '@material-ui/core';\r\n\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\n\r\nimport { useParams } from 'react-router-dom';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { openForm } from '../../actions/loginForm';\r\nimport moment from 'moment';\r\nimport DoctorCard from './doctor-card';\r\nimport DatePicker from './date-picker';\r\n\r\n\r\nfunction Alert(props) {\r\n    return <MuiAlert elevation={10} variant=\"filled\" {...props} />;\r\n}\r\n\r\nconst useStyles = makeStyles({\r\n    slotsContainer: {\r\n        display: 'flex',\r\n        height: '6vh',\r\n        alignItems: 'center',\r\n        marginTop: '20px'\r\n    },\r\n    radioContainer: {\r\n        'input:checked + label': {\r\n            backgroundColor: 'black'\r\n        }\r\n    },\r\n    whiteColor: {\r\n        color: 'white !important'\r\n    },\r\n    select: {\r\n        '&:before': {\r\n            borderColor: 'white',\r\n        },\r\n        '&:after': {\r\n            borderColor: 'white',\r\n        },\r\n        width: '15vw',\r\n\r\n    },\r\n    icon: {\r\n        fill: 'white',\r\n    },\r\n    main: {\r\n        margin: 'auto',\r\n        width: '40%',\r\n        backgroundColor: '#009899',\r\n        padding: '2vh 0',\r\n        borderRadius: '30px',\r\n        minHeight: '45vh',\r\n        boxShadow: '0px 0px 12px 0px rgba(0,0,0,0.75)'\r\n    },\r\n\r\n    picker: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center'\r\n    },\r\n    datePicker: {\r\n        marginRight: '4vw',\r\n        width: '15vw'\r\n    },\r\n    contentContainer: {\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        margin: '10px 0'\r\n    },\r\n    title: {\r\n        backgroundColor: '#E9F1F3',\r\n        height: '6vh',\r\n        width: '6vw',\r\n        margin: '20px',\r\n        borderRadius: '5px',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n\r\n    },\r\n    titleFont: {\r\n        fontSize: '23px'\r\n    },\r\n    hoursContainer: {\r\n        backgroundColor: '#ECECEC',\r\n        borderRadius: '10px',\r\n        padding: '0 10px'\r\n    },\r\n    button: {\r\n        display: 'block',\r\n        margin: 'auto',\r\n        color: 'white',\r\n        borderColor: 'white',\r\n        border: '2px solid white',\r\n        borderRadius: '10px'\r\n    },\r\n    root: {\r\n        display: 'flex'\r\n    },\r\n    message: {\r\n        color: 'white',\r\n        fontWeight: 'bold',\r\n        marginTop: '5vh'\r\n    }\r\n\r\n});\r\n\r\nconst hourRegex = title => {\r\n    return new RegExp('^' + title, 'i')\r\n}\r\n\r\nconst generateTitles = data => {\r\n    const allHours = [...data.freeHours, ...data.bookedHours];\r\n    const titles = new Set(allHours.map(hour => hour.split(':')[0]));\r\n    const sortedHours = [...titles].sort();\r\n    return sortedHours;\r\n}\r\n\r\nexport default function Schedule(props) {\r\n    const classes = useStyles();\r\n    const { doctorId } = useParams();\r\n\r\n    const [doctor, setDoctor] = useState({hospitals: [],  workPlaces: [] });\r\n    const [titles, setTitles] = useState([]);\r\n    const [hours, setHours] = useState([]);\r\n    const [data, setData] = useState(null);\r\n    const [value, setValue] = useState('');\r\n    const [date, setDate] = useState(new Date().toISOString().slice(0,10));\r\n    const [hospital, setHospital] = useState(0);\r\n    const isLoggedIn = useSelector(store => store.user.isLoggedIn);\r\n    const [isMessageOpen, setIsMessageOpen] = useState(false);\r\n    const [errorMessage, setErrorMessage] = useState('');\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n        axios.get(`/doctors/${doctorId}`)\r\n            .then(res => {\r\n\r\n                setDoctor(res.data);\r\n                console.log(res.data);\r\n                setHospital(res.data.workPlaces[0].id);\r\n            });\r\n\r\n    }, [doctorId]);\r\n\r\n    useEffect(() => {\r\n        setValue('');\r\n        axios.get(`/work_places/${hospital}/time_slots/?date=${date}`)\r\n            .then(res => {\r\n                setAllData(res.data);\r\n                \r\n            }\r\n            )\r\n    }, [hospital, date])\r\n\r\n    const setAllData = (data) => {\r\n        setData(data);\r\n        const union_hours = [...data.freeHours, ...data.bookedHours];\r\n        setTitles(generateTitles(data));\r\n        union_hours.sort();\r\n        setHours(union_hours);\r\n    }\r\n\r\n    const renderTitles = () =>\r\n        titles.map((title, index) => (\r\n            <div key={index} className={classes.title}>\r\n                <Typography className={classes.titleFont}>{title}:00</Typography>\r\n            </div>));\r\n\r\n    const renderSlots = (title) => (\r\n        <div className={classes.slotsContainer}>\r\n            {hours.map((hour, index) => renderHours(title, hour, index))}\r\n        </div>\r\n    )\r\n\r\n    const renderHospitals = () => {\r\n        return doctor.workPlaces.map(workPlace =>\r\n            <MenuItem value={workPlace.id} key={workPlace.id}>{workPlace.name}</MenuItem>\r\n        )\r\n    }\r\n\r\n    const renderHours = (title, hour, index) => {\r\n        if (hour.match(hourRegex(title))) {\r\n            if (data.bookedHours.includes(hour)) {\r\n                return (\r\n                    <div className=\"booked_slot_container\">\r\n                        <label>{hour}</label>\r\n                    </div>\r\n                )\r\n            }\r\n            return (\r\n                <div className=\"slot_container\">\r\n                    <input type=\"radio\" value={hour} checked={hour === value} onChange={() => setValue(hour)} id={index} />\r\n                    <label htmlFor={index}>{hour}</label>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n    const handleSubmit = () => {\r\n        if(!isLoggedIn) {\r\n            dispatch(openForm());\r\n            return;\r\n        }\r\n\r\n        \r\n        const end_time = moment(value, 'HH:mm').add(data.slot_duration, 'minute').format('HH:mm');\r\n        axios.post('/time_slots', {\r\n            start_time: value,\r\n            date_visiting: date,\r\n            scheduleId: data.scheduleId,\r\n            end_time: end_time\r\n        }, {headers: { Authorization: 'Bearer ' + localStorage.getItem('token') }})\r\n        .then(response => {\r\n            \r\n            const newData = data;\r\n            newData.bookedHours = newData.bookedHours.concat(value);\r\n            newData.freeHours = newData.freeHours.filter(hour => hour !== value);\r\n            setAllData(newData);\r\n            setValue('');\r\n            setIsMessageOpen(true);\r\n        })\r\n        .catch(error => {\r\n            setErrorMessage(error.response.data.message)\r\n        })\r\n    }\r\n\r\n    const handleClose = (event, reason) => {\r\n        if (reason === 'clickaway') {\r\n            return;\r\n        }\r\n\r\n        setIsMessageOpen(false);\r\n    };\r\n\r\n    const handleCloseError = (event, reason) => {\r\n        if (reason === 'clickaway') {\r\n            return;\r\n        }\r\n\r\n        setErrorMessage('');\r\n    }\r\n\r\n    const renderSchedule = () => {\r\n        if(data.bookedHours.length === 0 &&  data.freeHours.length === 0) {\r\n            return (\r\n            <div className={classes.contentContainer}>\r\n                <Typography className={classes.message}>На жаль, лікар не працює в цей день</Typography>\r\n            </div> \r\n            )\r\n        }\r\n\r\n        return (\r\n            <div className={classes.contentContainer}>\r\n                <div>\r\n                    {renderTitles()}\r\n                </div>\r\n                <div className={classes.hoursContainer}>\r\n                    {titles.map(title => renderSlots(title))}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    const handleChangeDate = (value) => setDate(value.format('YYYY-MM-DD'))\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <DoctorCard doctor={doctor}/>\r\n            <div className={classes.main}>\r\n                <div className={classes.picker}>\r\n                    <DatePicker handleSubmit={handleChangeDate}/>\r\n                    <FormControl>\r\n                        <InputLabel id=\"hospital-label\" className={classes.whiteColor}>Поліклініка</InputLabel>\r\n                        <Select\r\n                            labelId=\"hospital-label\"\r\n                            id=\"hospital-label-select\"\r\n                            value={hospital}\r\n                            onChange={(event) => setHospital(event.target.value)}\r\n                            className={classes.select}\r\n                            classes={{\r\n                                icon: classes.icon,\r\n                                root: classes.whiteColor\r\n                            }}\r\n                        >\r\n                            {renderHospitals()}\r\n                        </Select>\r\n                        <FormHelperText className={classes.whiteColor}>Поліклініка, де працює лікар</FormHelperText>\r\n                    </FormControl>\r\n\r\n\r\n                </div>\r\n                {data!== null && renderSchedule()}\r\n                {value !== '' && <Button className={classes.button} onClick={handleSubmit}>Записатися</Button>}\r\n            </div>\r\n            <Snackbar open={isMessageOpen} autoHideDuration={6000} onClose={handleClose}>\r\n                <Alert severity=\"success\">Вітаємо, Ви успішно записались до лікаря!</Alert>\r\n            </Snackbar>\r\n            <Snackbar open={errorMessage !== ''} autoHideDuration={6000} onClose={handleCloseError}>\r\n                <Alert onClose={handleCloseError} severity=\"error\">\r\n                    {errorMessage}\r\n                </Alert>\r\n            </Snackbar>\r\n\r\n        </div>\r\n\r\n    )\r\n}","import {React} from 'react';\r\nimport {Typography, makeStyles} from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles({\r\n    title:{\r\n        margin: '0 auto',\r\n        textAlign: 'center',\r\n        fontSize: '25px',\r\n        color: '#009899',\r\n        width: '60%',\r\n        fontWeight: 'bold'\r\n    }\r\n})\r\n\r\nexport default function AboutPage() {\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <Typography className={classes.title}>\r\n            Даний додаток розробили: Герасимчук Анастасія, Зубрій Назар, Ковінько Ольга, \r\n            Дробот Андрій, Гарвасюк Владислав, в якості проекту для заліку з проeктування програмних систем \r\n        </Typography>\r\n    )\r\n}","import Header from './components/header/header';\r\nimport Footer from './components/footer/footer';\r\nimport UserCabinet from './components/user-cabinet/userCabinet';\r\nimport DoctorCabinet from './components/doctor-cabinet/doctorCabinet';\r\nimport {BrowserRouter as Router, Switch, Route} from 'react-router-dom';\r\nimport SearchingForm from './components/searching-form/searchingForm';\r\nimport {makeStyles} from '@material-ui/core';\r\nimport Schedule from './components/schedule/schedule';\r\nimport AboutPage from './components/about-page/about-page';\r\n\r\nconst useStyles = makeStyles({\r\n  main: {\r\n    padding: '5em 0',\r\n    minHeight: '82vh',\r\n    boxSizing: 'border-box',\r\n    \r\n  }\r\n})\r\n\r\n\r\nfunction App() {\r\n  const classes = useStyles();\r\n  return (\r\n    <Router>\r\n      <Header />\r\n      \r\n      <div className={classes.main}>\r\n      <Switch>\r\n          <Route path=\"/about\">\r\n            <AboutPage />\r\n          </Route>\r\n          <Route path=\"/schedule/:doctorId\">\r\n            <Schedule />\r\n          </Route>\r\n          <Route path=\"/cabinet\">\r\n            <UserCabinet />\r\n          </Route>\r\n          <Route path=\"/doctor_cabinet\">\r\n            <DoctorCabinet />\r\n          </Route>\r\n          <Route exact path=\"/\">\r\n            <SearchingForm />\r\n          </Route>\r\n        </Switch>\r\n        \r\n      </div>\r\n     \r\n      <Footer />\r\n\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import jwt_decode from 'jwt-decode';\r\nimport axios from 'axios';\r\n\r\naxios.defaults.baseURL = \"https://helsi-289508.nw.r.appspot.com/api/v1\";\r\n\r\n\r\nconst checkIsTokenExpired = token => {\r\n    try {\r\n        const decoded = jwt_decode(token);\r\n        return decoded.exp * 1000 <= Date.now();\r\n    }\r\n    catch (ex) {\r\n        return true;\r\n    }\r\n}\r\n\r\n\r\nexport default function authorize() {\r\n\r\n    const token = localStorage.getItem('token');\r\n\r\n    if (token === null) return false;\r\n    if (!checkIsTokenExpired(token)) return true;\r\n\r\n    const refreshToken = localStorage.getItem('refresh_token');\r\n    if (refreshToken === null || checkIsTokenExpired(refreshToken)) return false;\r\n\r\n    return axios.post('/auth/refreshToken', {\r\n        refreshToken: refreshToken\r\n    }, { headers: { Authorization: 'Bearer ' + refreshToken } })\r\n        .then(res => {\r\n            localStorage.setItem('token', res.data.token);\r\n            return true;\r\n        })\r\n        .catch(error => false)\r\n}\r\n\r\n\r\n","import authorize from '../utils/auth';\r\nimport jwt_decode from 'jwt-decode';\r\nimport {LOGIN_SUCCESS, LOGOUT} from '../actions/type';\r\n\r\n\r\nconst initialState = authorize()\r\n    ? { isLoggedIn: true, user: jwt_decode(localStorage.getItem('token')) }\r\n    : { isLogged: false, user: null };\r\n\r\nexport function authReducer (state = initialState, action) {\r\n    switch(action.type){\r\n        case LOGIN_SUCCESS: \r\n            return {...state, ...action.payload};\r\n\r\n        case LOGOUT:\r\n            return {...state, isLoggedIn: false, user: null}\r\n        \r\n        default: return state;\r\n\r\n    }\r\n} ","import {OPEN_FORM, CLOSE_FORM} from '../actions/type';\r\n \r\nconst initialState = {\r\n    isShowed: false\r\n}\r\n\r\nexport function loginFormReducer(state = initialState, action) {\r\n    switch (action.type) {\r\n        case OPEN_FORM:\r\n            return { ...state, ...action.payload };\r\n\r\n        case CLOSE_FORM:\r\n            return { ...state, ...action.payload}\r\n\r\n        default: return state;\r\n    }\r\n}","import { combineReducers } from 'redux'\r\nimport { authReducer } from './auth';\r\nimport { loginFormReducer } from './loginForm';\r\n\r\n\r\nexport const rootReducer = combineReducers({\r\n    user: authReducer,\r\n    loginForm: loginFormReducer\r\n});","import { createStore } from 'redux'\r\nimport { rootReducer} from '../reducers'\r\n\r\nexport const store = createStore(\r\n    rootReducer, \r\n    window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__())","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport { Provider } from 'react-redux'\r\nimport App from './App';\r\n\r\nimport { store } from './store/configureStore' \r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById('root')\r\n);\r\n\r\n"],"sourceRoot":""}